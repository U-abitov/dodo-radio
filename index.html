<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Dodo Pizza Radyo</title>
</head>
<body>
<audio id="player" controls autoplay></audio>

<script>
let musicCount = 57; // количество песен
let adFiles = ["ad1.mp3", "ad2.mp3"]; // рекламные файлы
let playlist = [];
let songIndex = 0;
let playCounter = 0;

// Заполняем плейлист с рекламой каждые 10 песен
for (let i = 1; i <= musicCount; i++) {
    playlist.push(`music${i}.mp3`);
    if (i % 10 === 0) {
        let randomAd = adFiles[Math.floor(Math.random() * adFiles.length)];
        playlist.push(randomAd);
    }
}

// HTML audio элемент
let player = document.getElementById('player');

// Функция для запуска следующего трека
function playNext() {
    player.src = playlist[songIndex];
    player.play();
    songIndex++;
    if (songIndex >= playlist.length) {
        songIndex = 0; // зацикливаем
    }
}

// Когда трек заканчивается — включаем следующий
player.addEventListener('ended', playNext);

// Запускаем первую песню
playNext();
</script>
</body>
</html>
